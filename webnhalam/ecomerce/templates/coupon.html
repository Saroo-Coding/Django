{% extends "template.html" %}

{% load static %}

{% block body %}

<div class="container" style="margin-top: 3%; margin-bottom: 7%;">
    <div class="row" style="background-color: white;">
        <div style="text-align: end; font-size: initial; padding: unset; background-color: #eff2f1;">
            <button onclick="openCity('code')" type="button"
                style="border: unset; padding: 1%; background-color: limegreen; color: white;; border-radius: 20px 20px 0 0;">MÃ£
                Æ°u Ä‘Ã£i cá»§a báº¡n</button>
            <button onclick="openCity('spin')" type="button"
                style="border: unset; padding: 1%; background-color: coral; color: white; border-radius: 20px 20px 0 0;">VÃ²ng
                quay may máº¯n</button>
        </div>

        <div id="code" class="city" style="padding: 2%; color: black;">
            <h2>Æ¯u Ä‘Ã£i cá»§a báº¡n</h2>
            {% for x in cp %}
            <p style="border-radius: 15px; border: solid 1px; padding: 5px;">MÃ£ Æ°u Ä‘Ã£i: <b>{{x.name}}</b> &emsp; Giáº£m
                <b>{{x.discount}}%</b></p>
            {% endfor %}
        </div>

        <div id="spin" class="city" style="display:none; ">
            <h1 style="text-align: center; color: #fc4a1a; padding-bottom: 5%;">ðŸŽ‰ ZÃ²ng quay may máº¯n ðŸŽ‰</h1>
            <div class="container">
                <div class="wheel_box" style="position: relative; width: 500px; height: 500px;">
                    <canvas id="spinWheel" style="transform: rotate(270deg);"></canvas>
                    <button type="button" id="spin_btn">Spin</button>
                    <i class="fa-solid fa-location-arrow" style="position: absolute; top: -8%; left: 43.7%; font-size: 4rem; color: rgb(45, 252, 26); transform: rotate(-225deg);"></i>
                </div>
                <div id="text" style="font-size: 1.5rem; text-align: center; margin-top: 1.5rem; color: rgb(255, 215, 0); font-weight: 500;">
                    <p>Quay nháº­n mÃ£ khuyáº¿n mÃ£i</p>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    #spin_btn {
        position: absolute;
        transform: translate(-50%, -50%);
        top: 50%;
        left: 50%;
        height: 26%;
        width: 26%;
        border-radius: 50%;
        cursor: pointer;
        border: 0;
        background: linear-gradient(to right, #fc4a1a, #f7b733);
        color: rgb(255, 255, 255);
        text-transform: uppercase;
        font-size: 1.8rem;
        letter-spacing: 0.1rem;
        font-weight: 600;
    }
</style>

<script src="{% static 'js/spin.js' %}"></script>
<script>
    function openCity(cityName) {
        var i;
        var x = document.getElementsByClassName("city");
        for (i = 0; i < x.length; i++) {
            x[i].style.display = "none";
        }
        document.getElementById(cityName).style.display = "block";
    }
</script>
{% endblock %}